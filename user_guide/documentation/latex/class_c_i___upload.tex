\hypertarget{class_c_i___upload}{}\section{C\+I\+\_\+\+Upload Class Reference}
\label{class_c_i___upload}\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_c_i___upload_a446f5c9d78b675eb696970ac51f7905a}{\+\_\+\+\_\+construct}} (\$config=array())
\item 
\mbox{\hyperlink{class_c_i___upload_a4aaf1074d6383b0ad00cf52bd44cdb6f}{initialize}} (array \$config=array(), \$reset=T\+R\+UE)
\item 
\mbox{\hyperlink{class_c_i___upload_a7e8e05902b2bcfebd4c012c60eb8e97b}{do\+\_\+upload}} (\$field=\textquotesingle{}userfile\textquotesingle{})
\item 
\mbox{\hyperlink{class_c_i___upload_a8b4fd00820d05f8f159d436594c72af6}{data}} (\$index=N\+U\+LL)
\item 
\mbox{\hyperlink{class_c_i___upload_a375727ece6d87a17328fd19ba3e8f4f0}{set\+\_\+upload\+\_\+path}} (\$path)
\item 
\mbox{\hyperlink{class_c_i___upload_a5c50a01f848fa3a12022e82d6a8ae340}{set\+\_\+filename}} (\$path, \$filename)
\item 
\mbox{\hyperlink{class_c_i___upload_a39c5a916b1ae99355bccaf4db056a30e}{set\+\_\+max\+\_\+filesize}} (\$n)
\item 
\mbox{\hyperlink{class_c_i___upload_a05aefd0ba3046cb20adf12356241fcd3}{set\+\_\+max\+\_\+filename}} (\$n)
\item 
\mbox{\hyperlink{class_c_i___upload_a6c02c4329b368eaac0c6719c3cb910df}{set\+\_\+max\+\_\+width}} (\$n)
\item 
\mbox{\hyperlink{class_c_i___upload_ab1a749e824f5f94e22258dea17d06139}{set\+\_\+max\+\_\+height}} (\$n)
\item 
\mbox{\hyperlink{class_c_i___upload_a03f270957d44271611b02d0a9efd321e}{set\+\_\+min\+\_\+width}} (\$n)
\item 
\mbox{\hyperlink{class_c_i___upload_a0a2346dbdbc48828e1c0c14941524a36}{set\+\_\+min\+\_\+height}} (\$n)
\item 
\mbox{\hyperlink{class_c_i___upload_a69675d1d2bb39bc95b889278799f383d}{set\+\_\+allowed\+\_\+types}} (\$types)
\item 
\mbox{\hyperlink{class_c_i___upload_afe2c970e88b5387d2ec99d198ad78db9}{set\+\_\+image\+\_\+properties}} (\$path=\textquotesingle{}\textquotesingle{})
\item 
\mbox{\hyperlink{class_c_i___upload_aa0fdcdc09ee414866516aea622bfa4d8}{set\+\_\+xss\+\_\+clean}} (\$flag=F\+A\+L\+SE)
\item 
\mbox{\hyperlink{class_c_i___upload_a9f27ec4fec8956115c8b3d329cfe84ab}{is\+\_\+image}} ()
\item 
\mbox{\hyperlink{class_c_i___upload_adecf3ad0a635aaecb9fa4cb2c73dbe24}{is\+\_\+allowed\+\_\+filetype}} (\$ignore\+\_\+mime=F\+A\+L\+SE)
\item 
\mbox{\hyperlink{class_c_i___upload_af0538419d2efbf52b5a48dbeb423f909}{is\+\_\+allowed\+\_\+filesize}} ()
\item 
\mbox{\hyperlink{class_c_i___upload_acf477966777c54450112c9a010cb9e2b}{is\+\_\+allowed\+\_\+dimensions}} ()
\item 
\mbox{\hyperlink{class_c_i___upload_ab590b2fa695e3a6ea55c4cdfb6558673}{validate\+\_\+upload\+\_\+path}} ()
\item 
\mbox{\hyperlink{class_c_i___upload_a7f6d9ce01c82e6b31129cd7259de5f3c}{get\+\_\+extension}} (\$filename)
\item 
\mbox{\hyperlink{class_c_i___upload_a619b51989420bb9ec5744698a865178e}{limit\+\_\+filename\+\_\+length}} (\$filename, \$length)
\item 
\mbox{\hyperlink{class_c_i___upload_a7b7e8c47df50e999419a178ac56aa2dc}{do\+\_\+xss\+\_\+clean}} ()
\item 
\mbox{\hyperlink{class_c_i___upload_ab4b85f042b2d2d36c360a39dd8e97fe2}{set\+\_\+error}} (\$msg, \$log\+\_\+level=\textquotesingle{}error\textquotesingle{})
\item 
\mbox{\hyperlink{class_c_i___upload_a2e580ff38869c6494107c15541ab7e20}{display\+\_\+errors}} (\$open=\textquotesingle{}$<$ p $>$\textquotesingle{}, \$close=\textquotesingle{}$<$/p $>$\textquotesingle{})
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_c_i___upload_a27d0d0dbf05c1945cad098842aa7eec8}\label{class_c_i___upload_a27d0d0dbf05c1945cad098842aa7eec8}} 
{\bfseries \$max\+\_\+size} = 0
\item 
\mbox{\Hypertarget{class_c_i___upload_a2834f46feb321a9dbe96ef9cba7ebfd0}\label{class_c_i___upload_a2834f46feb321a9dbe96ef9cba7ebfd0}} 
{\bfseries \$max\+\_\+width} = 0
\item 
\mbox{\Hypertarget{class_c_i___upload_ae53a453590ee5781729ac09270bb6877}\label{class_c_i___upload_ae53a453590ee5781729ac09270bb6877}} 
{\bfseries \$max\+\_\+height} = 0
\item 
\mbox{\Hypertarget{class_c_i___upload_a877e276589dab7f46afc257154e569fd}\label{class_c_i___upload_a877e276589dab7f46afc257154e569fd}} 
{\bfseries \$min\+\_\+width} = 0
\item 
\mbox{\Hypertarget{class_c_i___upload_abc00f467240a49e3d50c15d13e562b56}\label{class_c_i___upload_abc00f467240a49e3d50c15d13e562b56}} 
{\bfseries \$min\+\_\+height} = 0
\item 
\mbox{\Hypertarget{class_c_i___upload_aae25280ab45c6fb34a483ad2c83559ad}\label{class_c_i___upload_aae25280ab45c6fb34a483ad2c83559ad}} 
{\bfseries \$max\+\_\+filename} = 0
\item 
\mbox{\Hypertarget{class_c_i___upload_a4c690afef5e812a617babedc4d9b0a6e}\label{class_c_i___upload_a4c690afef5e812a617babedc4d9b0a6e}} 
{\bfseries \$max\+\_\+filename\+\_\+increment} = 100
\item 
\mbox{\Hypertarget{class_c_i___upload_afc2fc4c3438dc63870775b82f198b53f}\label{class_c_i___upload_afc2fc4c3438dc63870775b82f198b53f}} 
{\bfseries \$allowed\+\_\+types} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{class_c_i___upload_a026f3a9481c261bb22e0e6005f03c35b}\label{class_c_i___upload_a026f3a9481c261bb22e0e6005f03c35b}} 
{\bfseries \$file\+\_\+temp} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{class_c_i___upload_a880691a6a72acb695c0d2e4efe688c3a}\label{class_c_i___upload_a880691a6a72acb695c0d2e4efe688c3a}} 
{\bfseries \$file\+\_\+name} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{class_c_i___upload_a48f9d5b951f98238bf2325d683355d49}\label{class_c_i___upload_a48f9d5b951f98238bf2325d683355d49}} 
{\bfseries \$orig\+\_\+name} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{class_c_i___upload_a11974549ef8b87ac8e57dbaca7242b21}\label{class_c_i___upload_a11974549ef8b87ac8e57dbaca7242b21}} 
{\bfseries \$file\+\_\+type} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{class_c_i___upload_a09aa0c159643d4020c0449f8b02d43ff}\label{class_c_i___upload_a09aa0c159643d4020c0449f8b02d43ff}} 
{\bfseries \$file\+\_\+size} = N\+U\+LL
\item 
\mbox{\Hypertarget{class_c_i___upload_aab3f078519637a712a1ae6b17d6497b6}\label{class_c_i___upload_aab3f078519637a712a1ae6b17d6497b6}} 
{\bfseries \$file\+\_\+ext} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{class_c_i___upload_a0c744e82857f4c26192dc3e7edf1f34b}\label{class_c_i___upload_a0c744e82857f4c26192dc3e7edf1f34b}} 
{\bfseries \$file\+\_\+ext\+\_\+tolower} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{class_c_i___upload_afa22548734b61d3c0566ae55095e2dad}\label{class_c_i___upload_afa22548734b61d3c0566ae55095e2dad}} 
{\bfseries \$upload\+\_\+path} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{class_c_i___upload_a773ba7e877bd4c7f605efccd45414ac2}\label{class_c_i___upload_a773ba7e877bd4c7f605efccd45414ac2}} 
{\bfseries \$overwrite} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{class_c_i___upload_ab00553bba557405c82e7c16ce3e48ff6}\label{class_c_i___upload_ab00553bba557405c82e7c16ce3e48ff6}} 
{\bfseries \$encrypt\+\_\+name} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{class_c_i___upload_ad2686afedca0937bd17b7931d9bf377a}\label{class_c_i___upload_ad2686afedca0937bd17b7931d9bf377a}} 
{\bfseries \$is\+\_\+image} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{class_c_i___upload_a04ec9c79801a9fd68c5664eee23fa5b6}\label{class_c_i___upload_a04ec9c79801a9fd68c5664eee23fa5b6}} 
{\bfseries \$image\+\_\+width} = N\+U\+LL
\item 
\mbox{\Hypertarget{class_c_i___upload_a4470cfa0017c68cf5e9f1362e998d05a}\label{class_c_i___upload_a4470cfa0017c68cf5e9f1362e998d05a}} 
{\bfseries \$image\+\_\+height} = N\+U\+LL
\item 
\mbox{\Hypertarget{class_c_i___upload_af3a1e3a555208948ff32f875afbdd59c}\label{class_c_i___upload_af3a1e3a555208948ff32f875afbdd59c}} 
{\bfseries \$image\+\_\+type} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{class_c_i___upload_a2697cd2a0dad313937e906635361a240}\label{class_c_i___upload_a2697cd2a0dad313937e906635361a240}} 
{\bfseries \$image\+\_\+size\+\_\+str} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{class_c_i___upload_a6576b90669f133cfb04193ce4b160b82}\label{class_c_i___upload_a6576b90669f133cfb04193ce4b160b82}} 
{\bfseries \$error\+\_\+msg} = array()
\item 
\mbox{\Hypertarget{class_c_i___upload_a8f0f589696f882db1abcca54ae3c409f}\label{class_c_i___upload_a8f0f589696f882db1abcca54ae3c409f}} 
{\bfseries \$remove\+\_\+spaces} = T\+R\+UE
\item 
\mbox{\Hypertarget{class_c_i___upload_a990980ecf6fd1347f32b4f71d5ff20ef}\label{class_c_i___upload_a990980ecf6fd1347f32b4f71d5ff20ef}} 
{\bfseries \$detect\+\_\+mime} = T\+R\+UE
\item 
\mbox{\Hypertarget{class_c_i___upload_ab7f81cc9565445db4950422e8e2ab7a5}\label{class_c_i___upload_ab7f81cc9565445db4950422e8e2ab7a5}} 
{\bfseries \$xss\+\_\+clean} = F\+A\+L\+SE
\item 
\mbox{\Hypertarget{class_c_i___upload_a5eb0376bbc3f81d69f382a93d1d3d2ad}\label{class_c_i___upload_a5eb0376bbc3f81d69f382a93d1d3d2ad}} 
{\bfseries \$mod\+\_\+mime\+\_\+fix} = T\+R\+UE
\item 
\mbox{\Hypertarget{class_c_i___upload_afcad1904ff21a7b85861a3fac3351877}\label{class_c_i___upload_afcad1904ff21a7b85861a3fac3351877}} 
{\bfseries \$temp\+\_\+prefix} = \textquotesingle{}temp\+\_\+file\+\_\+\textquotesingle{}
\item 
\mbox{\Hypertarget{class_c_i___upload_a9a8de506962bb68b32bc573f6c14d076}\label{class_c_i___upload_a9a8de506962bb68b32bc573f6c14d076}} 
{\bfseries \$client\+\_\+name} = \textquotesingle{}\textquotesingle{}
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_c_i___upload_afb4d99be805b31bb404905c09b14f158}{set\+\_\+max\+\_\+size}} (\$n)
\item 
\mbox{\hyperlink{class_c_i___upload_a9392dbfb099708e0867a08baeb108ec0}{\+\_\+prep\+\_\+filename}} (\$filename)
\item 
\mbox{\hyperlink{class_c_i___upload_a25b07a1451cfbaa708ebcef47943ce55}{\+\_\+file\+\_\+mime\+\_\+type}} (\$file)
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_c_i___upload_acb039e4f20d4e7fb78cd330efa903107}\label{class_c_i___upload_acb039e4f20d4e7fb78cd330efa903107}} 
{\bfseries \$\+\_\+file\+\_\+name\+\_\+override} = \textquotesingle{}\textquotesingle{}
\item 
\mbox{\Hypertarget{class_c_i___upload_a3d3e75a3116a5993ec309f93d0e953c1}\label{class_c_i___upload_a3d3e75a3116a5993ec309f93d0e953c1}} 
{\bfseries \$\+\_\+mimes} = array()
\item 
\mbox{\Hypertarget{class_c_i___upload_a3f30db8a1fdd1d08350c5c74a495cc0c}\label{class_c_i___upload_a3f30db8a1fdd1d08350c5c74a495cc0c}} 
{\bfseries \$\+\_\+\+CI}
\end{DoxyCompactItemize}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_c_i___upload_a446f5c9d78b675eb696970ac51f7905a}\label{class_c_i___upload_a446f5c9d78b675eb696970ac51f7905a}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!\+\_\+\+\_\+construct@{\+\_\+\+\_\+construct}}
\index{\+\_\+\+\_\+construct@{\+\_\+\+\_\+construct}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+construct()}{\_\_construct()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::\+\_\+\+\_\+construct (\begin{DoxyParamCaption}\item[{}]{\$config = {\ttfamily array()} }\end{DoxyParamCaption})}

Constructor


\begin{DoxyParams}[1]{Parameters}
array & {\em \$config} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_c_i___upload_a25b07a1451cfbaa708ebcef47943ce55}\label{class_c_i___upload_a25b07a1451cfbaa708ebcef47943ce55}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!\+\_\+file\+\_\+mime\+\_\+type@{\+\_\+file\+\_\+mime\+\_\+type}}
\index{\+\_\+file\+\_\+mime\+\_\+type@{\+\_\+file\+\_\+mime\+\_\+type}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{\+\_\+file\+\_\+mime\+\_\+type()}{\_file\_mime\_type()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::\+\_\+file\+\_\+mime\+\_\+type (\begin{DoxyParamCaption}\item[{}]{\$file }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

File M\+I\+ME type

Detects the (actual) M\+I\+ME type of the uploaded file, if possible. The input array is expected to be \$\+\_\+\+F\+I\+L\+ES\mbox{[}\$field\mbox{]}


\begin{DoxyParams}[1]{Parameters}
array & {\em \$file} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
Fileinfo extension -\/ most reliable method

Apparently X\+A\+M\+PP, Cent\+OS, c\+Panel and who knows what other P\+HP distribution channels E\+X\+P\+L\+I\+C\+I\+T\+LY D\+I\+S\+A\+B\+LE ext/fileinfo, which is otherwise enabled by default since P\+HP 5.\+3 ...\mbox{\Hypertarget{class_c_i___upload_a9392dbfb099708e0867a08baeb108ec0}\label{class_c_i___upload_a9392dbfb099708e0867a08baeb108ec0}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!\+\_\+prep\+\_\+filename@{\+\_\+prep\+\_\+filename}}
\index{\+\_\+prep\+\_\+filename@{\+\_\+prep\+\_\+filename}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{\+\_\+prep\+\_\+filename()}{\_prep\_filename()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::\+\_\+prep\+\_\+filename (\begin{DoxyParamCaption}\item[{}]{\$filename }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Prep Filename

Prevents possible script execution from Apache\textquotesingle{}s handling of files\textquotesingle{} multiple extensions.

\mbox{\hyperlink{}{string \$filename  string }}\mbox{\Hypertarget{class_c_i___upload_a8b4fd00820d05f8f159d436594c72af6}\label{class_c_i___upload_a8b4fd00820d05f8f159d436594c72af6}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!data@{data}}
\index{data@{data}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{data()}{data()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::data (\begin{DoxyParamCaption}\item[{}]{\$index = {\ttfamily NULL} }\end{DoxyParamCaption})}

Finalized Data Array

Returns an associative array containing all of the information related to the upload, allowing the developer easy access in one array.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$index} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
mixed 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_a2e580ff38869c6494107c15541ab7e20}\label{class_c_i___upload_a2e580ff38869c6494107c15541ab7e20}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!display\+\_\+errors@{display\+\_\+errors}}
\index{display\+\_\+errors@{display\+\_\+errors}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{display\+\_\+errors()}{display\_errors()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::display\+\_\+errors (\begin{DoxyParamCaption}\item[{}]{\$open = {\ttfamily \textquotesingle{}$<$p$>$\textquotesingle{}},  }\item[{}]{\$close = {\ttfamily \textquotesingle{}$<$/p$>$\textquotesingle{}} }\end{DoxyParamCaption})}

Display the error message


\begin{DoxyParams}[1]{Parameters}
string & {\em \$open} & \\
\hline
string & {\em \$close} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_a7e8e05902b2bcfebd4c012c60eb8e97b}\label{class_c_i___upload_a7e8e05902b2bcfebd4c012c60eb8e97b}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!do\+\_\+upload@{do\+\_\+upload}}
\index{do\+\_\+upload@{do\+\_\+upload}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{do\+\_\+upload()}{do\_upload()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::do\+\_\+upload (\begin{DoxyParamCaption}\item[{}]{\$field = {\ttfamily \textquotesingle{}userfile\textquotesingle{}} }\end{DoxyParamCaption})}

Perform the file upload


\begin{DoxyParams}[1]{Parameters}
string & {\em \$field} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_a7b7e8c47df50e999419a178ac56aa2dc}\label{class_c_i___upload_a7b7e8c47df50e999419a178ac56aa2dc}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!do\+\_\+xss\+\_\+clean@{do\+\_\+xss\+\_\+clean}}
\index{do\+\_\+xss\+\_\+clean@{do\+\_\+xss\+\_\+clean}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{do\+\_\+xss\+\_\+clean()}{do\_xss\_clean()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::do\+\_\+xss\+\_\+clean (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Runs the file through the X\+SS clean function

This prevents people from embedding malicious code in their files. I\textquotesingle{}m not sure that it won\textquotesingle{}t negatively affect certain files in unexpected ways, but so far I haven\textquotesingle{}t found that it causes trouble.

\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_a7f6d9ce01c82e6b31129cd7259de5f3c}\label{class_c_i___upload_a7f6d9ce01c82e6b31129cd7259de5f3c}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!get\+\_\+extension@{get\+\_\+extension}}
\index{get\+\_\+extension@{get\+\_\+extension}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{get\+\_\+extension()}{get\_extension()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::get\+\_\+extension (\begin{DoxyParamCaption}\item[{}]{\$filename }\end{DoxyParamCaption})}

Extract the file extension


\begin{DoxyParams}[1]{Parameters}
string & {\em \$filename} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_a4aaf1074d6383b0ad00cf52bd44cdb6f}\label{class_c_i___upload_a4aaf1074d6383b0ad00cf52bd44cdb6f}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!initialize@{initialize}}
\index{initialize@{initialize}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{initialize()}{initialize()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::initialize (\begin{DoxyParamCaption}\item[{array}]{\$config = {\ttfamily array()},  }\item[{}]{\$reset = {\ttfamily TRUE} }\end{DoxyParamCaption})}

Initialize preferences


\begin{DoxyParams}[1]{Parameters}
array & {\em \$config} & \\
\hline
bool & {\em \$reset} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_c_i___upload}{C\+I\+\_\+\+Upload}} 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_acf477966777c54450112c9a010cb9e2b}\label{class_c_i___upload_acf477966777c54450112c9a010cb9e2b}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!is\+\_\+allowed\+\_\+dimensions@{is\+\_\+allowed\+\_\+dimensions}}
\index{is\+\_\+allowed\+\_\+dimensions@{is\+\_\+allowed\+\_\+dimensions}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{is\+\_\+allowed\+\_\+dimensions()}{is\_allowed\_dimensions()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::is\+\_\+allowed\+\_\+dimensions (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Verify that the image is within the allowed width/height

\begin{DoxyReturn}{Returns}
bool 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_af0538419d2efbf52b5a48dbeb423f909}\label{class_c_i___upload_af0538419d2efbf52b5a48dbeb423f909}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!is\+\_\+allowed\+\_\+filesize@{is\+\_\+allowed\+\_\+filesize}}
\index{is\+\_\+allowed\+\_\+filesize@{is\+\_\+allowed\+\_\+filesize}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{is\+\_\+allowed\+\_\+filesize()}{is\_allowed\_filesize()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::is\+\_\+allowed\+\_\+filesize (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Verify that the file is within the allowed size

\begin{DoxyReturn}{Returns}
bool 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_adecf3ad0a635aaecb9fa4cb2c73dbe24}\label{class_c_i___upload_adecf3ad0a635aaecb9fa4cb2c73dbe24}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!is\+\_\+allowed\+\_\+filetype@{is\+\_\+allowed\+\_\+filetype}}
\index{is\+\_\+allowed\+\_\+filetype@{is\+\_\+allowed\+\_\+filetype}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{is\+\_\+allowed\+\_\+filetype()}{is\_allowed\_filetype()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::is\+\_\+allowed\+\_\+filetype (\begin{DoxyParamCaption}\item[{}]{\$ignore\+\_\+mime = {\ttfamily FALSE} }\end{DoxyParamCaption})}

Verify that the filetype is allowed


\begin{DoxyParams}[1]{Parameters}
bool & {\em \$ignore\+\_\+mime} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_a9f27ec4fec8956115c8b3d329cfe84ab}\label{class_c_i___upload_a9f27ec4fec8956115c8b3d329cfe84ab}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!is\+\_\+image@{is\+\_\+image}}
\index{is\+\_\+image@{is\+\_\+image}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{is\+\_\+image()}{is\_image()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::is\+\_\+image (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Validate the image

\begin{DoxyReturn}{Returns}
bool 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_a619b51989420bb9ec5744698a865178e}\label{class_c_i___upload_a619b51989420bb9ec5744698a865178e}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!limit\+\_\+filename\+\_\+length@{limit\+\_\+filename\+\_\+length}}
\index{limit\+\_\+filename\+\_\+length@{limit\+\_\+filename\+\_\+length}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{limit\+\_\+filename\+\_\+length()}{limit\_filename\_length()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::limit\+\_\+filename\+\_\+length (\begin{DoxyParamCaption}\item[{}]{\$filename,  }\item[{}]{\$length }\end{DoxyParamCaption})}

Limit the File Name Length


\begin{DoxyParams}[1]{Parameters}
string & {\em \$filename} & \\
\hline
int & {\em \$length} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_a69675d1d2bb39bc95b889278799f383d}\label{class_c_i___upload_a69675d1d2bb39bc95b889278799f383d}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!set\+\_\+allowed\+\_\+types@{set\+\_\+allowed\+\_\+types}}
\index{set\+\_\+allowed\+\_\+types@{set\+\_\+allowed\+\_\+types}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{set\+\_\+allowed\+\_\+types()}{set\_allowed\_types()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::set\+\_\+allowed\+\_\+types (\begin{DoxyParamCaption}\item[{}]{\$types }\end{DoxyParamCaption})}

Set Allowed File Types


\begin{DoxyParams}[1]{Parameters}
mixed & {\em \$types} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_c_i___upload}{C\+I\+\_\+\+Upload}} 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_ab4b85f042b2d2d36c360a39dd8e97fe2}\label{class_c_i___upload_ab4b85f042b2d2d36c360a39dd8e97fe2}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!set\+\_\+error@{set\+\_\+error}}
\index{set\+\_\+error@{set\+\_\+error}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{set\+\_\+error()}{set\_error()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::set\+\_\+error (\begin{DoxyParamCaption}\item[{}]{\$msg,  }\item[{}]{\$log\+\_\+level = {\ttfamily \textquotesingle{}error\textquotesingle{}} }\end{DoxyParamCaption})}

Set an error message


\begin{DoxyParams}[1]{Parameters}
string & {\em \$msg} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_c_i___upload}{C\+I\+\_\+\+Upload}} 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_a5c50a01f848fa3a12022e82d6a8ae340}\label{class_c_i___upload_a5c50a01f848fa3a12022e82d6a8ae340}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!set\+\_\+filename@{set\+\_\+filename}}
\index{set\+\_\+filename@{set\+\_\+filename}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{set\+\_\+filename()}{set\_filename()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::set\+\_\+filename (\begin{DoxyParamCaption}\item[{}]{\$path,  }\item[{}]{\$filename }\end{DoxyParamCaption})}

Set the file name

This function takes a filename/path as input and looks for the existence of a file with the same name. If found, it will append a number to the end of the filename to avoid overwriting a pre-\/existing file.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$path} & \\
\hline
string & {\em \$filename} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_afe2c970e88b5387d2ec99d198ad78db9}\label{class_c_i___upload_afe2c970e88b5387d2ec99d198ad78db9}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!set\+\_\+image\+\_\+properties@{set\+\_\+image\+\_\+properties}}
\index{set\+\_\+image\+\_\+properties@{set\+\_\+image\+\_\+properties}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{set\+\_\+image\+\_\+properties()}{set\_image\_properties()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::set\+\_\+image\+\_\+properties (\begin{DoxyParamCaption}\item[{}]{\$path = {\ttfamily \textquotesingle{}\textquotesingle{}} }\end{DoxyParamCaption})}

Set Image Properties

Uses GD to determine the width/height/type of image


\begin{DoxyParams}[1]{Parameters}
string & {\em \$path} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_c_i___upload}{C\+I\+\_\+\+Upload}} 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_a05aefd0ba3046cb20adf12356241fcd3}\label{class_c_i___upload_a05aefd0ba3046cb20adf12356241fcd3}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!set\+\_\+max\+\_\+filename@{set\+\_\+max\+\_\+filename}}
\index{set\+\_\+max\+\_\+filename@{set\+\_\+max\+\_\+filename}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{set\+\_\+max\+\_\+filename()}{set\_max\_filename()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::set\+\_\+max\+\_\+filename (\begin{DoxyParamCaption}\item[{}]{\$n }\end{DoxyParamCaption})}

Set Maximum File Name Length


\begin{DoxyParams}[1]{Parameters}
int & {\em \$n} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_c_i___upload}{C\+I\+\_\+\+Upload}} 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_a39c5a916b1ae99355bccaf4db056a30e}\label{class_c_i___upload_a39c5a916b1ae99355bccaf4db056a30e}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!set\+\_\+max\+\_\+filesize@{set\+\_\+max\+\_\+filesize}}
\index{set\+\_\+max\+\_\+filesize@{set\+\_\+max\+\_\+filesize}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{set\+\_\+max\+\_\+filesize()}{set\_max\_filesize()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::set\+\_\+max\+\_\+filesize (\begin{DoxyParamCaption}\item[{}]{\$n }\end{DoxyParamCaption})}

Set Maximum File Size


\begin{DoxyParams}[1]{Parameters}
int & {\em \$n} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_c_i___upload}{C\+I\+\_\+\+Upload}} 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_ab1a749e824f5f94e22258dea17d06139}\label{class_c_i___upload_ab1a749e824f5f94e22258dea17d06139}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!set\+\_\+max\+\_\+height@{set\+\_\+max\+\_\+height}}
\index{set\+\_\+max\+\_\+height@{set\+\_\+max\+\_\+height}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{set\+\_\+max\+\_\+height()}{set\_max\_height()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::set\+\_\+max\+\_\+height (\begin{DoxyParamCaption}\item[{}]{\$n }\end{DoxyParamCaption})}

Set Maximum Image Height


\begin{DoxyParams}[1]{Parameters}
int & {\em \$n} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_c_i___upload}{C\+I\+\_\+\+Upload}} 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_afb4d99be805b31bb404905c09b14f158}\label{class_c_i___upload_afb4d99be805b31bb404905c09b14f158}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!set\+\_\+max\+\_\+size@{set\+\_\+max\+\_\+size}}
\index{set\+\_\+max\+\_\+size@{set\+\_\+max\+\_\+size}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{set\+\_\+max\+\_\+size()}{set\_max\_size()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::set\+\_\+max\+\_\+size (\begin{DoxyParamCaption}\item[{}]{\$n }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

Set Maximum File Size

An internal alias to \mbox{\hyperlink{class_c_i___upload_a39c5a916b1ae99355bccaf4db056a30e}{set\+\_\+max\+\_\+filesize()}} to help with configuration as \mbox{\hyperlink{class_c_i___upload_a4aaf1074d6383b0ad00cf52bd44cdb6f}{initialize()}} will look for a set\+\_\+$<$property\+\_\+name$>$() method ...


\begin{DoxyParams}[1]{Parameters}
int & {\em \$n} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_c_i___upload}{C\+I\+\_\+\+Upload}} 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_a6c02c4329b368eaac0c6719c3cb910df}\label{class_c_i___upload_a6c02c4329b368eaac0c6719c3cb910df}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!set\+\_\+max\+\_\+width@{set\+\_\+max\+\_\+width}}
\index{set\+\_\+max\+\_\+width@{set\+\_\+max\+\_\+width}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{set\+\_\+max\+\_\+width()}{set\_max\_width()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::set\+\_\+max\+\_\+width (\begin{DoxyParamCaption}\item[{}]{\$n }\end{DoxyParamCaption})}

Set Maximum Image Width


\begin{DoxyParams}[1]{Parameters}
int & {\em \$n} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_c_i___upload}{C\+I\+\_\+\+Upload}} 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_a0a2346dbdbc48828e1c0c14941524a36}\label{class_c_i___upload_a0a2346dbdbc48828e1c0c14941524a36}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!set\+\_\+min\+\_\+height@{set\+\_\+min\+\_\+height}}
\index{set\+\_\+min\+\_\+height@{set\+\_\+min\+\_\+height}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{set\+\_\+min\+\_\+height()}{set\_min\_height()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::set\+\_\+min\+\_\+height (\begin{DoxyParamCaption}\item[{}]{\$n }\end{DoxyParamCaption})}

Set minimum image height


\begin{DoxyParams}[1]{Parameters}
int & {\em \$n} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_c_i___upload}{C\+I\+\_\+\+Upload}} 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_a03f270957d44271611b02d0a9efd321e}\label{class_c_i___upload_a03f270957d44271611b02d0a9efd321e}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!set\+\_\+min\+\_\+width@{set\+\_\+min\+\_\+width}}
\index{set\+\_\+min\+\_\+width@{set\+\_\+min\+\_\+width}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{set\+\_\+min\+\_\+width()}{set\_min\_width()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::set\+\_\+min\+\_\+width (\begin{DoxyParamCaption}\item[{}]{\$n }\end{DoxyParamCaption})}

Set minimum image width


\begin{DoxyParams}[1]{Parameters}
int & {\em \$n} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_c_i___upload}{C\+I\+\_\+\+Upload}} 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_a375727ece6d87a17328fd19ba3e8f4f0}\label{class_c_i___upload_a375727ece6d87a17328fd19ba3e8f4f0}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!set\+\_\+upload\+\_\+path@{set\+\_\+upload\+\_\+path}}
\index{set\+\_\+upload\+\_\+path@{set\+\_\+upload\+\_\+path}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{set\+\_\+upload\+\_\+path()}{set\_upload\_path()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::set\+\_\+upload\+\_\+path (\begin{DoxyParamCaption}\item[{}]{\$path }\end{DoxyParamCaption})}

Set Upload Path


\begin{DoxyParams}[1]{Parameters}
string & {\em \$path} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_c_i___upload}{C\+I\+\_\+\+Upload}} 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_aa0fdcdc09ee414866516aea622bfa4d8}\label{class_c_i___upload_aa0fdcdc09ee414866516aea622bfa4d8}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!set\+\_\+xss\+\_\+clean@{set\+\_\+xss\+\_\+clean}}
\index{set\+\_\+xss\+\_\+clean@{set\+\_\+xss\+\_\+clean}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{set\+\_\+xss\+\_\+clean()}{set\_xss\_clean()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::set\+\_\+xss\+\_\+clean (\begin{DoxyParamCaption}\item[{}]{\$flag = {\ttfamily FALSE} }\end{DoxyParamCaption})}

Set X\+SS Clean

Enables the X\+SS flag so that the file that was uploaded will be run through the X\+SS filter.


\begin{DoxyParams}[1]{Parameters}
bool & {\em \$flag} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_c_i___upload}{C\+I\+\_\+\+Upload}} 
\end{DoxyReturn}
\mbox{\Hypertarget{class_c_i___upload_ab590b2fa695e3a6ea55c4cdfb6558673}\label{class_c_i___upload_ab590b2fa695e3a6ea55c4cdfb6558673}} 
\index{C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}!validate\+\_\+upload\+\_\+path@{validate\+\_\+upload\+\_\+path}}
\index{validate\+\_\+upload\+\_\+path@{validate\+\_\+upload\+\_\+path}!C\+I\+\_\+\+Upload@{C\+I\+\_\+\+Upload}}
\subsubsection{\texorpdfstring{validate\+\_\+upload\+\_\+path()}{validate\_upload\_path()}}
{\footnotesize\ttfamily C\+I\+\_\+\+Upload\+::validate\+\_\+upload\+\_\+path (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Validate Upload Path

Verifies that it is a valid upload path with proper permissions.

\begin{DoxyReturn}{Returns}
bool 
\end{DoxyReturn}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
C\+:/wamp64/racine/www/ci/system/libraries/Upload.\+php\end{DoxyCompactItemize}
